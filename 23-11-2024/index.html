<html>
    <body>
        <script>
            /* Function is a block of code that performs a specfic task. Functions can take inputs(parameters) and return outputs 
            
            1. Function Declaration: A function is declared with 'function' keyword and can be called by its name and paranthesis ()
            
            */
            function greet(name) {
                return `Hello, ${name}`
            }
            console.log(greet("GOOD MORNING"));


            //2. Function expression: A function assigned to a variable.

            add = function(a,b) {
                return a+b;
            }
            console.log(add(5,2));


            //3. Arrow function: A shorter syntax for defining functions, it is introduced in ES6

            multiply = (a,b) => a*b;
            console.log(multiply(4,2));

            //4. function with default parameters: provides default values for parameters if not supplied

            function greet(name = "Guest") {
                return `Hello ${name}`;
            }   
            console.log(greet("Pradeep"));

            //5. Rest Parameter (...): collects all additional arguments into single array.

            function sum(...numbers_to_be) {
                return numbers_to_be.reduce((total, num) => total + num, 0);
            }
            console.log(sum(1,2,3,4,5,6,7,8,9,10));

            /* Function scope and closures 
            Scope: It determines where variables can be accessed. Global variables are accessbile everywhere, while local varialbes confined to a block or function 

            Closures: It is a function that retains access to its outer scope, even after the outer function is compelted
            
            Closure: inner function remembers the count variable
            */

            // Remembering variables

            function counter() {

                let count = 0;
                return function() {
                    count++;
                    return count;
                };

            }   

            increment = counter();

            console.log(increment());
            console.log(increment());
            console.log(increment());
            console.log(increment());


            // Global and local scope

            let globalVar = "I'm global";

            function testScope() {
                let localVar = "I'm local";
                console.log(globalVar);
                console.log(localVar);
            }
            testScope();
            console.log(globalVar);
            //console.log(localVar);


            // Closure for private variables

            function createBankAccount(initialBalance) {
                let balance = initialBalance;
                return {
                    deposit(amount) {
                        balance+= amount;
                    },
                    getBalance() {
                        return balance;
                    }
                }
            }
            const account = createBankAccount(100);
            account.deposit(50);
            account.deposit(10);
            account.deposit(20);
            console.log(account.getBalance());


            // Lexical Scope

            function outer(){
                let outerVar = "Outer";
                function inner() {
                    console.log(outerVar);
                    function inner2() {
                    console.log(outerVar);
                    }
                    inner2();
                }
                inner();
            }

            outer();

            // F without Param, without return
            // F with Param, without return
            // F without Param, with return
            // F with Param, with return
            // Function with recurrsion


            // Higher order functions: Functions that either take other functions as arguments or return functions.


             // map: Applies a function to each element in an array.
             
             numbers = [1,2,3];
             square = numbers.map(num => num * num)
             console.log(square);

             // filter to return even numbers

             numbers = [1,2,3,4];
             evenNumbers = numbers.filter(num => num % 2 == 0);
             console.log(evenNumbers);
    
            // returning a function

            adder = x => y => x + y;

            add10 = adder(10);
            console.log(add10(5));


            function createAdder(x) {
                return function(y) {
                    return x+y;
                }
            }

            add3 = createAdder(3);
            console.log(add3(7));

            
            
        </script>    
    </body>
</html>